@charset 'utf-8';

// 
// *****************************************
// *****************************************
//  ■ Pallaxアニメーション表示【rellax】
// *****************************************
// *****************************************
// 

/*************************************************
  ■【祖父枠要素】共通設定
  ■【祖父枠要素】
      画面全体表示に於ける「印象を決める」、
      表示サイズ・位置を決める
 *************************************************/
@mixin style-rlxParentElm() {
  margin: 50px auto;

  /* ★ 必須 */
  overflow: hidden;

  // border: 2px dashed lime;
  border-radius: 8px;
  box-shadow: 6px 6px 12px rgba(85,121,155, 0.7);
}
/*************************************************
  ■【父枠要素】共通設定
  ■【父枠要素】
        【祖父要素枠】の中で動く画像を格納する枠の設定
      1.【祖父要素枠】からはみ出る位の範囲・サイズを指定
      2.【祖父要素枠】からはみ出た枠の位置を調整
          【data-rellax-speed】に応じて移動するので、
            空欄が出来ない様に上左方向へ【父枠】を移動する。
            その移動量を指定（例「top:-50%; left:-50%;」）
 *************************************************/
@mixin style-rlxImgFrame( $frmMgn:-50% ) {
  /*************************************************
  【２】枠の表示位置
    ■【祖父枠要素】に対し「はみ出したサイズ」の、
     【父枠要素】サイズを【１】にて決める。
      例）【父枠要素】サイズを【200%】と決めるとする。
          この場合「上下100%（左右100%）」分の余裕が生まれる。
          画像を【祖父枠要素】の中心に表示させたいので、
          【父枠要素】を「top:-50%; left:-50%;」と、
          余裕サイズの半分程移動をさせる。

        ★「速度：data-rellax-speed」との関係
          １．早ければ、動く方向と反対に大きく移動させて置く必要有り
        ★「【祖父枠要素】枠の大きさ」との関係
          １．100%以上のはみ出た部分を移動方向を考慮し、反対方向に動かす
          ２．移動しても、「祖父枠要素」に空白が出ない位置に設定する
   *************************************************/
   position: absolute;
   top:  $frmMgn;
   left: $frmMgn;
 
   /* ★ 必須 */
   overflow: hidden;
 
  //  border: 2px dashed red;        // for DEBUG !!!!!   
   border-radius: 8px;

  //  object-fit: cover;
  //  opacity: 0.5;         // for DEBUG
}


/******************************************************************/
/******************************************************************/
/*************************************************
  ■【祖父枠要素】
     画面全体表示に於ける「印象を決める」、
     表示サイズ・位置を決める
     この枠の中で、イメージが動く。

  ★ 【横方向】幅広画像向け設定   「縦横比・1:1.5」
 *************************************************/
/*************************************************/
/*************************************************/
.rlxParentElmW {

  /* ★ 必須 */
  position: relative;

  /* 画面全体に於ける、サイズ・配置を設定 */
  /***************************************/
  //  移動表示に扱う、画像の縦横に合わせる（個別調整）
  width:  450px;
  height: 300px;
  @include mquery( "mb" ) {
    width:  300px;
    height: 200px;  
  }

  width: 30vw;
  height: 20vw;
  @include mquery( "mb" ) {
    // left: 0;
    width:  75vw;              // 75vw 300px;
    height: 50vw;              // 75vw 300px;
  }

  /***************************************/
  
  @include style-rlxParentElm();

}

/*************************************************
  画面全体表示に於ける、
  印象付ける表示位置を決める「祖父枠要素」設定
  この枠の中で、イメージが動く。
  ★ 【縦方向】幅広画像向け設定   「縦横比・1.5:1」
 *************************************************/
.rlxParentElmH {
  /* ★ 必須 */
  position: relative;

  /* 画面全体に於ける、サイズ・配置を設定 */
  /***************************************/
  //  移動表示に扱う、画像の縦横に合わせる（個別調整）
  width:  300px;
  height: 450px;
  /***************************************/

  width:  20vw;
  height: 30vw;
  @include mquery( "mb" ) {
    // left: 0;
    width:  50vw;              // 75vw 300px;
    height: 75vw;              // 75vw 300px;
  }

  @include style-rlxParentElm();
}

/*************************************************
  画面全体の表示に於ける、
  印象付ける表示位置を決める「祖父枠要素」設定
  この枠の中で、イメージが動く。
  ★ 【背景】幅広画像向け設定   「縦横比・1.5:1」
 *************************************************/
 .rlxParentElmBG {

  /* ★ 必須 */
  position: absolute;
  top:  -10%;
  left: -10%;

  /* 画面全体に於ける、サイズ・配置を設定 */
  /***************************************/
  //  移動表示に扱う、画像の縦横に合わせる（個別調整）
  width:  120%;
  height: 120%;
  /***************************************/
  
  @include style-rlxParentElm();

  opacity: 0.5;
  z-index: -2;

}
/*************************************************/
/*************************************************/


/******************************************************************/
/******************************************************************/

/*************************************************
  ■【父枠要素】
   【祖父要素枠】の中で動く画像を格納する枠の設定

   ★ 横広画像向け
 *************************************************/
/*************************************************/
/*************************************************/
.rlxImgFrameW {

  /*************************************************
    ■【祖父枠要素】に対し「はみ出したサイズ」の、
     【父枠要素】サイズをここで決める。

      pallax効果にて【父枠要素】は「上下」に移動する。
      従って、
    【父枠要素】のサイズは
    【祖父枠要素】のサイズを大きくはみ出ないと、
      空白が出てしまう。
      
      ★「扱う画像の縦横比」（個別調整）
        １．横広画像は、横サイズ「width:200%」を設定
        ２．縦広画像は、縦サイズ「height:200%」を設定
      ★「速度：data-rellax-speed」
        １．早ければ、大きくする必要有り
        ２．遅ければ、100% 以上、比較的小さい範囲設定も可
   *************************************************/
  // width:  200%;
  width:  auto;
  height: 250%;

  @include style-rlxImgFrame( -80% );

  // opacity: 0.5;         // for DEBUG
}

/*************************************************
  ■【父枠要素】
   【祖父要素枠】の中で動く画像を格納する枠の設定

   ★ 縦広画像向け
 *************************************************/
.rlxImgFrameH {
  /*************************************************
    ■【祖父枠要素】に対し「はみ出したサイズ」の、
    【父枠要素】サイズをここで決める。

      pallax効果にて【父枠要素】は「上下」に移動する。
      従って、
    【父枠要素】のサイズは
    【祖父枠要素】のサイズを大きくはみ出ないと、
      空白が出てしまう。
      
      ★「扱う画像の縦横比」（個別調整）
        １．横広画像は、横サイズ「width:200%」を設定
        ２．縦広画像は、縦サイズ「height:200%」を設定
      ★「速度：data-rellax-speed」
        １．早ければ、大きくする必要有り
        ２．遅ければ、100% 以上、比較的小さい範囲設定も可
  *************************************************/
  width:  220%;
  height: auto;

  @include style-rlxImgFrame( -60% );

  // opacity: 0.5;         // for DEBUG
}
/******************************************************************/
/******************************************************************/
/**********************************
  画像そのものの「サイズ」設定
 **********************************/
.rlxImgCfg {
  /*********************************
   「画像のサイズ」を、
   「親枠要素（画像と一緒に移動する枠）」に対して決める。
   １．「100%」だと親枠と同じサイズ
   ２．横広画像は、横サイズを「100%」に設定
   ３．縦広画像は、縦サイズを「100%」に設定
  **********************************/
  width:  100%;
  height: 100%;
}
.rlxImgCfgW {
  /*********************************
   「画像のサイズ」を、
   「親枠要素（画像と一緒に移動する枠）」に対して決める。
   １．「100%」だと親枠と同じサイズ
   ２．横広画像は、横サイズを「100%」に設定
   ３．縦広画像は、縦サイズを「100%」に設定
  **********************************/
  width:  auto;
  height: 100%;
}
.rlxImgCfgH {
  /*********************************
   「画像のサイズ」を、
   「親枠要素（画像と一緒に移動する枠）」に対して決める。
   １．「100%」だと親枠と同じサイズ
   ２．横広画像は、横サイズを「100%」に設定
   ３．縦広画像は、縦サイズを「100%」に設定
  **********************************/
  width:  100%;
  height: auto;
}


